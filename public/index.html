<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Piyush & Dhaval — Coming Soon</title>
  <style>
    :root {
      --bg: #f6eee8;
      --surface: #fffdfb;
      --accent: #b18b73;
      --accent-2: linear-gradient(90deg, rgba(193,147,113,0.12), rgba(193,147,113,0.02));
      --text: #3a2f2b;
      --muted: #a38873;
      --glass: rgba(255,255,255,0.65);
    }

    /* Theme variations (will override root variables) */
  .theme-ember { --bg: #efe6e1; --surface: #f8f2f1; --glass: rgba(0,0,0,0.06); --text: #2b2421; --muted: #8b6a5c; }

    * { box-sizing: border-box; }
    body{
      margin:0;
      font-family: 'Playfair Display', Georgia, serif;
      background: var(--bg);
      color: var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .wrap{
      width:100%;
      max-width:760px;
      border-radius:20px;
      padding:28px;
      background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.35));
      box-shadow: 0 10px 40px rgba(0,0,0,0.07);
      backdrop-filter: blur(8px) saturate(1.05);
      position:relative;
      overflow:hidden;
    }

    /* decorative animated ring */
    .ring{
      position:absolute;
      inset:-10px;
      pointer-events:none;
      display:block;
      opacity:0.9;
      animation: float 8s ease-in-out infinite;
    }

    @keyframes float{ 0%{transform:translateY(0)} 50%{transform:translateY(-6px)} 100%{transform:translateY(0)} }

    .header{
      display:flex;
      align-items:center;
      gap:20px;
      justify-content:center;
      flex-direction:column;
      text-align:center;
      z-index:2;
      position:relative;
    }

    .logo{
      width:200px;
      height:200px;
      border-radius:50%;
      object-fit:cover;
      display:block;
      margin:6px auto;
      transform-origin:center;
      animation:logoPop 900ms cubic-bezier(.2,.9,.26,1);
      overflow:hidden;
    }
    @keyframes logoPop{ 0%{transform:scale(.92) rotate(-1deg) translateY(6px); opacity:0} 60%{transform:scale(1.03) rotate(0) translateY(0); opacity:1} 100%{transform:scale(1) rotate(0);} }

    h1{ font-size:1.9rem; margin:6px 0 0 0; letter-spacing:1px; }
    .sub{ color:var(--muted); margin-top:6px; font-size:1rem; }

  .coming-soon{ color:var(--muted); margin-top:12px; font-size:0.95rem; text-transform:uppercase; letter-spacing:1px; font-weight:600; }

    /* countdown */
    .countdown{
      display:flex;
      gap:12px;
      justify-content:center;
      margin-top:18px;
      z-index:2;
    }

    .cd-item{
      background:var(--surface);
      padding:12px 14px;
      border-radius:10px;
      min-width:72px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.04);
      transition:transform .25s ease;
      font-family: Inter, system-ui, -apple-system, sans-serif;
    }

    .cd-item small{ display:block; color:var(--muted); font-size:.78rem; }
    .cd-item strong{ font-size:1.25rem; display:block; }

    .controls{ display:flex; gap:10px; align-items:center; justify-content:center; margin-top:18px; }
    .btn{ background:var(--accent); color:white; border:none; padding:10px 14px; border-radius:10px; cursor:pointer; box-shadow:0 6px 18px rgba(177,139,115,0.18); font-weight:600; }
    .ghost{ background:transparent; border:1px solid rgba(58,47,43,0.06); color:var(--text); padding:9px 12px; border-radius:10px; cursor:pointer; }
  .install-btn{ background:transparent; border:1px solid rgba(58,47,43,0.06); color:var(--text); padding:9px 12px; border-radius:10px; cursor:pointer; display:none; }

    .card{ margin-top:20px; padding:16px; background:linear-gradient(180deg, var(--surface), rgba(255,255,255,0.97)); border-radius:12px; text-align:left; color:var(--text); box-shadow:0 6px 18px rgba(0,0,0,0.04); }

    .theme-picker{ display:flex; gap:8px; justify-content:center; margin-top:12px; }
    .theme-swatch{ width:36px; height:36px; border-radius:8px; border:2px solid rgba(0,0,0,0.04); cursor:pointer; display:inline-flex; align-items:center; justify-content:center; }

    /* subtle floating petals */
    .petal{ position:absolute; width:14px; height:14px; border-radius:50%; background:var(--accent); opacity:0.12; filter:blur(.5px); animation: drift 10s linear infinite; }
    .petal.p1{ left:6%; top:14%; animation-delay:0s; }
    .petal.p2{ right:8%; top:8%; animation-delay:2s; }
    .petal.p3{ left:20%; bottom:6%; animation-delay:4s; }
    @keyframes drift{ 0%{transform:translateY(0) translateX(0)} 50%{transform:translateY(-18px) translateX(6px)} 100%{transform:translateY(0)} }

    /* audio controls */
    .audio-row{ display:flex; gap:10px; align-items:center; justify-content:center; margin-top:16px; }

    /* responsive */
    @media (max-width:520px){ .wrap{ padding:18px } h1{ font-size:1.5rem } .logo{ width:160px; height:160px } .cd-item{ min-width:56px; padding:9px 10px } }
  </style>
</head>
<body class="theme-blush">
  <section class="wrap" aria-labelledby="title">
    <div class="ring"> <!-- decorative svg ring -->
      <svg viewBox="0 0 600 600" width="100%" height="100%" preserveAspectRatio="xMidYMid meet" style="opacity:.8;">
        <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#b18b73" stop-opacity="0.12"/><stop offset="1" stop-color="#b18b73" stop-opacity="0.02"/></linearGradient></defs>
        <g transform="translate(300,300)">
          <circle r="230" fill="none" stroke="url(#g1)" stroke-width="1.6" stroke-dasharray="6 18" stroke-linecap="round"/>
          <path d="M-200 -80 C -120 -180 120 -180 200 -80" stroke="#b18b73" stroke-opacity="0.06" fill="none" stroke-width="1.2"/>
        </g>
      </svg>
    </div>

    <div class="petal p1"></div>
    <div class="petal p2"></div>
    <div class="petal p3"></div>

    <header class="header">
      <img src="logo.jpeg" alt="Piyush & Dhaval logo" class="logo"/>
      <h1 id="title">Piyush Weds Dhaval</h1>
      <div class="sub"><strong>9th – 10th February, 2026</strong></div>

      <div class="countdown" role="timer" aria-live="polite">
        <div class="cd-item"><strong id="days">--</strong><small>Days</small></div>
        <div class="cd-item"><strong id="hours">--</strong><small>Hours</small></div>
        <div class="cd-item"><strong id="minutes">--</strong><small>Minutes</small></div>
        <div class="cd-item"><strong id="seconds">--</strong><small>Seconds</small></div>
      </div>

      <div class="coming-soon" aria-hidden="false">Coming soon</div>

      <div class="controls">
        <button class="btn" id="notifyBtn">Notify Me</button>
        <button class="install-btn" id="installBtn">Add to Home Screen</button>
      </div>

      <!--
      <div class="audio-row">
        <audio id="bgm" loop preload="none">
          <source src="/audio/sitar-serinity-255303.mp3" type="audio/mpeg">
          Your browser does not support audio playback.
        </audio>
        <button class="ghost" id="playAudio">Play Music</button>
        <small style="color:var(--muted)">Tip: Autoplay may be blocked — tap play</small>
      </div>
      -->

    </header>

    <div class="card" id="card">
      <strong>How to add this wedding website to your Home Screen</strong>
      <p style="margin:.5rem 0 .25rem 0; color:var(--muted)">Open Safari or Chrome and go to the website.</p>
      <ol id="installInstructions" style="margin:0 0 0 18px; color:var(--text)">
        <li>Tap the Share button (the square with an arrow pointing up).</li>
        <li>Scroll down the share sheet and tap "Add to Home Screen".</li>
        <li>Edit the name of the shortcut if desired.</li>
        <li>Tap "Add" to place the shortcut on your home screen.</li>
      </ol>

      <!-- iOS instruction modal (hidden by default) -->
      <div id="iosModal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.5); align-items:center; justify-content:center; z-index:9999;">
        <div style="background:var(--surface); padding:18px; border-radius:12px; max-width:420px; margin:16px; text-align:left; color:var(--text);">
          <strong style="display:block; margin-bottom:8px;">Add to Home Screen — iOS</strong>
          <ol style="margin:0 0 8px 18px; color:var(--text)">
            <li>Tap the Share button at the bottom of Safari.</li>
            <li>Choose "Add to Home Screen" from the share sheet.</li>
            <li>Tap "Add" to install the shortcut.</li>
          </ol>
          <div style="display:flex; gap:8px; justify-content:flex-end; margin-top:8px;">
            <button id="iosClose" class="ghost">Close</button>
          </div>
        </div>
      </div>
    </div>

  </section>

  <script>
    // Countdown to 9 Feb 2026 00:00:00 (local) — adjust if you prefer event start time
    const target = new Date('2026-02-09T00:00:00');

    function updateCountdown(){
      const now = new Date();
      let diff = Math.max(0, target - now);
      const days = Math.floor(diff / (1000*60*60*24));
      diff -= days * (1000*60*60*24);
      const hours = Math.floor(diff / (1000*60*60));
      diff -= hours * (1000*60*60);
      const minutes = Math.floor(diff / (1000*60));
      diff -= minutes * (1000*60);
      const seconds = Math.floor(diff / 1000);

      document.getElementById('days').textContent = String(days).padStart(2,'0');
      document.getElementById('hours').textContent = String(hours).padStart(2,'0');
      document.getElementById('minutes').textContent = String(minutes).padStart(2,'0');
      document.getElementById('seconds').textContent = String(seconds).padStart(2,'0');
    }
    updateCountdown();
    setInterval(updateCountdown, 1000);

    // Theme picker
    document.querySelectorAll('.theme-swatch').forEach(s => s.addEventListener('click', e => {
      const t = e.currentTarget.getAttribute('data-theme');
      document.body.classList.remove('theme-blush','theme-ivory','theme-ember');
      document.body.classList.add(t);
    }));

    // Play music control
    const bgm = document.getElementById('bgm');
    const playAudio = document.getElementById('playAudio');
    // Try muted autoplay on load; many browsers allow autoplay when muted.
    bgm.muted = true;
    bgm.play().then(()=>{
      // autoplay succeeded but muted — user can unmute by tapping
      playAudio.textContent = 'Unmute';
    }).catch(()=>{
      // Autoplay blocked — show play label so user can tap
      playAudio.textContent = 'Play Music';
    });

    playAudio.addEventListener('click', ()=>{
      if(bgm.paused){
        // if muted (autoplay succeeded muted), unmute first
        if(bgm.muted){ bgm.muted = false; }
        bgm.play().then(()=>{ playAudio.textContent='Pause Music'; }).catch(()=>{ alert('Audio playback is blocked by the browser. Tap to play.'); });
      } else {
        bgm.pause(); playAudio.textContent='Play Music';
      }
    });

    // Notify me (example: request Notification permission)
    document.getElementById('notifyBtn').addEventListener('click', async ()=>{
      if(!('Notification' in window)){ alert('Notifications are not supported in your browser.'); return; }
      const perm = await Notification.requestPermission();
      if(perm === 'granted'){
        new Notification('Thanks! We will remind you about Piyush & Dhaval wedding.');
      } else { alert('Notifications blocked — you can still add the site to your home screen.'); }
    });

    // Theme quick toggle
    document.getElementById('themeBtn').addEventListener('click', ()=>{
      const current = document.body.classList.contains('theme-blush') ? 'theme-blush'
                    : document.body.classList.contains('theme-ivory') ? 'theme-ivory' : 'theme-ember';
      const next = current === 'theme-blush' ? 'theme-ivory' : current === 'theme-ivory' ? 'theme-ember' : 'theme-blush';
      document.body.classList.remove('theme-blush','theme-ivory','theme-ember');
      document.body.classList.add(next);
    });

    // Small accessibility improvement: reduce motion preference
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if(prefersReduced){ document.querySelectorAll('*').forEach(el=>el.style.animation='none'); }

    // Add to Home Screen (PWA) behavior
    let deferredPrompt = null;
    const installBtn = document.getElementById('installBtn');
    const iosModal = document.getElementById('iosModal');
    const iosClose = document.getElementById('iosClose');

    // Listen for beforeinstallprompt (Chrome/Android and other supported browsers)
    window.addEventListener('beforeinstallprompt', (e) => {
      // Prevent the mini-infobar from appearing on mobile
      e.preventDefault();
      deferredPrompt = e;
      // Show the install button
      installBtn.style.display = 'inline-flex';
    });

    // Click handler for install button — either triggers browser prompt or shows iOS instructions
    installBtn.addEventListener('click', async () => {
      // If we have a saved prompt, use it
      if (deferredPrompt) {
        installBtn.disabled = true;
        deferredPrompt.prompt();
        const choice = await deferredPrompt.userChoice;
        // You can use choice.outcome to track acceptance/decline
        deferredPrompt = null;
        installBtn.style.display = 'none';
        installBtn.disabled = false;
      } else {
        // No programmatic prompt available (e.g., Safari on iOS) — show instructions modal as fallback
        iosModal.style.display = 'flex';
      }
    });

    iosClose.addEventListener('click', () => { iosModal.style.display = 'none'; });

    /*
      Packaging hints (copy into README or use as guide):
      - React: place the HTML inside a React component (JSX). Put styles in a module or tailwind and import the logo under /public or /src/assets.
      - Next.js: Create pages/index.js with getStaticProps (optional). Put audio and logo in /public. Use next/image for automatic optimization if desired.
      - Deploy-ready: Zip project or push to Vercel/Netlify — static HTML + /public assets will deploy instantly.
      - Replace '/audio/wedding-melody.mp3' with a hosted mp3 URL or include the file in your /public/audio folder.
    */
  </script>
  <!-- PWA manifest link -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#f6eee8" />
</body>
</html>
